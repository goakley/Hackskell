<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Hack.Assembler</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Hack-Assembler.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">Hack-0.0.0: Tools for the Hack computer architecture</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Hack.Assembler</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The Assembler defines the valid Hack assembly instructions and provides tools for manipulating assembly, including the actual act of assembling.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Instruction">Instruction</a> <ul class="subs"><li>= <a href="#v:Address">Address</a> <a href="Hack-Assembler.html#t:Constant">Constant</a>  </li><li>| <a href="#v:Marker">Marker</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>  </li><li>| <a href="#v:Calculate">Calculate</a> <a href="Hack-Assembler.html#t:Calculation">Calculation</a> (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Hack-Assembler.html#t:Destination">Destination</a>) (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Hack-Assembler.html#t:Jump">Jump</a>)  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Constant">Constant</a> <ul class="subs"><li>= <a href="#v:Literal">Literal</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a>  </li><li>| <a href="#v:Symbol">Symbol</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Calculation">Calculation</a> <ul class="subs"><li>= <a href="#v:Load0">Load0</a>  </li><li>| <a href="#v:Load1">Load1</a>  </li><li>| <a href="#v:LoadN1">LoadN1</a>  </li><li>| <a href="#v:LoadD">LoadD</a>  </li><li>| <a href="#v:LoadA">LoadA</a>  </li><li>| <a href="#v:InvD">InvD</a>  </li><li>| <a href="#v:InvA">InvA</a>  </li><li>| <a href="#v:NegD">NegD</a>  </li><li>| <a href="#v:NegA">NegA</a>  </li><li>| <a href="#v:IncD">IncD</a>  </li><li>| <a href="#v:IncA">IncA</a>  </li><li>| <a href="#v:DecD">DecD</a>  </li><li>| <a href="#v:DecA">DecA</a>  </li><li>| <a href="#v:AddDA">AddDA</a>  </li><li>| <a href="#v:SubDA">SubDA</a>  </li><li>| <a href="#v:SubAD">SubAD</a>  </li><li>| <a href="#v:AndDA">AndDA</a>  </li><li>| <a href="#v:OrDA">OrDA</a>  </li><li>| <a href="#v:LoadM">LoadM</a>  </li><li>| <a href="#v:InvM">InvM</a>  </li><li>| <a href="#v:NegM">NegM</a>  </li><li>| <a href="#v:IncM">IncM</a>  </li><li>| <a href="#v:DecM">DecM</a>  </li><li>| <a href="#v:AddDM">AddDM</a>  </li><li>| <a href="#v:SubDM">SubDM</a>  </li><li>| <a href="#v:SubMD">SubMD</a>  </li><li>| <a href="#v:AndDM">AndDM</a>  </li><li>| <a href="#v:OrDM">OrDM</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Destination">Destination</a> <ul class="subs"><li>= <a href="#v:StoreM">StoreM</a>  </li><li>| <a href="#v:StoreD">StoreD</a>  </li><li>| <a href="#v:StoreMD">StoreMD</a>  </li><li>| <a href="#v:StoreA">StoreA</a>  </li><li>| <a href="#v:StoreAM">StoreAM</a>  </li><li>| <a href="#v:StoreAD">StoreAD</a>  </li><li>| <a href="#v:StoreAMD">StoreAMD</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Jump">Jump</a> <ul class="subs"><li>= <a href="#v:JumpGT">JumpGT</a>  </li><li>| <a href="#v:JumpEQ">JumpEQ</a>  </li><li>| <a href="#v:JumpGE">JumpGE</a>  </li><li>| <a href="#v:JumpLT">JumpLT</a>  </li><li>| <a href="#v:JumpNE">JumpNE</a>  </li><li>| <a href="#v:JumpLE">JumpLE</a>  </li><li>| <a href="#v:Jump">Jump</a>  </li></ul></li><li class="src short"><a href="#v:assemble">assemble</a> :: [<a href="Hack-Assembler.html#t:Instruction">Instruction</a>] -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> [<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] [<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Word.html#t:Word16">Word16</a>]</li><li class="src short"><a href="#v:parseAssembly">parseAssembly</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> [<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] [<a href="Hack-Assembler.html#t:Instruction">Instruction</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Instruction" class="def">Instruction</a>  </p><div class="doc"><p>A single instruction that may be executed in a single cycle of the machine
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Address" class="def">Address</a> <a href="Hack-Assembler.html#t:Constant">Constant</a></td><td class="doc"><p>A constant that will be loaded into memory
</p></td></tr><tr><td class="src"><a name="v:Marker" class="def">Marker</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>A label that identifies a location in the program
</p></td></tr><tr><td class="src"><a name="v:Calculate" class="def">Calculate</a> <a href="Hack-Assembler.html#t:Calculation">Calculation</a> (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Hack-Assembler.html#t:Destination">Destination</a>) (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> <a href="Hack-Assembler.html#t:Jump">Jump</a>)</td><td class="doc"><p>A calculation for the ALU to perform
</p></td></tr></table></div><div class="subs instances"><p id="control.i:Instruction" class="caption collapser" onclick="toggleSection('i:Instruction')">Instances</p><div id="section.i:Instruction" class="show"><table><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Hack-Assembler.html#t:Instruction">Instruction</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Constant" class="def">Constant</a>  </p><div class="doc"><p>The constants that can be addressed by an address command
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Literal" class="def">Literal</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>A literal value
</p></td></tr><tr><td class="src"><a name="v:Symbol" class="def">Symbol</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>A symbol that will be translated into a value
</p></td></tr></table></div><div class="subs instances"><p id="control.i:Constant" class="caption collapser" onclick="toggleSection('i:Constant')">Instances</p><div id="section.i:Constant" class="show"><table><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Hack-Assembler.html#t:Constant">Constant</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Calculation" class="def">Calculation</a>  </p><div class="doc"><p>Defines the possible calculations that can be made by the ALU
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Load0" class="def">Load0</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Load1" class="def">Load1</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LoadN1" class="def">LoadN1</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LoadD" class="def">LoadD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LoadA" class="def">LoadA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:InvD" class="def">InvD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:InvA" class="def">InvA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NegD" class="def">NegD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NegA" class="def">NegA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:IncD" class="def">IncD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:IncA" class="def">IncA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DecD" class="def">DecD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DecA" class="def">DecA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AddDA" class="def">AddDA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SubDA" class="def">SubDA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SubAD" class="def">SubAD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AndDA" class="def">AndDA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:OrDA" class="def">OrDA</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LoadM" class="def">LoadM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:InvM" class="def">InvM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NegM" class="def">NegM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:IncM" class="def">IncM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DecM" class="def">DecM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AddDM" class="def">AddDM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SubDM" class="def">SubDM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:SubMD" class="def">SubMD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AndDM" class="def">AndDM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:OrDM" class="def">OrDM</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Calculation" class="caption collapser" onclick="toggleSection('i:Calculation')">Instances</p><div id="section.i:Calculation" class="show"><table><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> <a href="Hack-Assembler.html#t:Calculation">Calculation</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Hack-Assembler.html#t:Calculation">Calculation</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Destination" class="def">Destination</a>  </p><div class="doc"><p>Defines the possible locations in which to store the result of a calculation
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:StoreM" class="def">StoreM</a></td><td class="doc"><p>Stores the result into Memory[A-register]
</p></td></tr><tr><td class="src"><a name="v:StoreD" class="def">StoreD</a></td><td class="doc"><p>Stores the result into the D-register
</p></td></tr><tr><td class="src"><a name="v:StoreMD" class="def">StoreMD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:StoreA" class="def">StoreA</a></td><td class="doc"><p>Stores the result into the A-register
</p></td></tr><tr><td class="src"><a name="v:StoreAM" class="def">StoreAM</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:StoreAD" class="def">StoreAD</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:StoreAMD" class="def">StoreAMD</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Destination" class="caption collapser" onclick="toggleSection('i:Destination')">Instances</p><div id="section.i:Destination" class="show"><table><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> <a href="Hack-Assembler.html#t:Destination">Destination</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Hack-Assembler.html#t:Destination">Destination</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Jump" class="def">Jump</a>  </p><div class="doc"><p>Defines the possible jumps that can occur after performing a calculation
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:JumpGT" class="def">JumpGT</a></td><td class="doc"><p>Jumps iff calc &gt; 0
</p></td></tr><tr><td class="src"><a name="v:JumpEQ" class="def">JumpEQ</a></td><td class="doc"><p>Jumps iff calc == 0
</p></td></tr><tr><td class="src"><a name="v:JumpGE" class="def">JumpGE</a></td><td class="doc"><p>Jumps iff calc &gt;= 0
</p></td></tr><tr><td class="src"><a name="v:JumpLT" class="def">JumpLT</a></td><td class="doc"><p>Jumps iff calc &lt; 0
</p></td></tr><tr><td class="src"><a name="v:JumpNE" class="def">JumpNE</a></td><td class="doc"><p>Jumps iff calc /= 0
</p></td></tr><tr><td class="src"><a name="v:JumpLE" class="def">JumpLE</a></td><td class="doc"><p>Jumps iff calc &lt;= 0
</p></td></tr><tr><td class="src"><a name="v:Jump" class="def">Jump</a></td><td class="doc"><p>Jumps unconditionally
</p></td></tr></table></div><div class="subs instances"><p id="control.i:Jump" class="caption collapser" onclick="toggleSection('i:Jump')">Instances</p><div id="section.i:Jump" class="show"><table><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> <a href="Hack-Assembler.html#t:Jump">Jump</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Hack-Assembler.html#t:Jump">Jump</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:assemble" class="def">assemble</a> :: [<a href="Hack-Assembler.html#t:Instruction">Instruction</a>] -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> [<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] [<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Word.html#t:Word16">Word16</a>]</p><div class="doc"><p>Assembles instructions to their 16-bit binary form; provides informative error strings on failure
</p></div></div><div class="top"><p class="src"><a name="v:parseAssembly" class="def">parseAssembly</a> :: <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Either.html#t:Either">Either</a> [<a href="file:///usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>] [<a href="Hack-Assembler.html#t:Instruction">Instruction</a>]</p><div class="doc"><p>Transforms source assembly code into assembly instructions; provides informative error strings on failure
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>